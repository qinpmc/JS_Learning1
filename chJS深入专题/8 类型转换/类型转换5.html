<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script type="text/javascript">
 
	// 二元+运算符
	function test1(){
		let user = {
		  name: "John",
		  money: 1000,

		  // 对于 hint="string"
		  toString() {
			return `{name: "${this.name}"}`;
		  },

		  // 对于 hint="number" 或 "default"
		  valueOf() {
			return this.money;
		  }

		};

		alert(user); // 先调用toString -> ;{name: "John"}
		console.log(+user); // 先调用valueOf -> ;1000
		console.log(user + 500); // 先调用valueOf -> ;1500
		console.log("a"+user); //先调用valueOf  ->   ;a1000    与字符串拼接仍先调用valueOf, "a"+ String(user.valueOf()) 
		console.log(user+"b"); // 先调用valueOf  ->  ;1000b    与字符串拼接仍先调用valueOf   String(user.valueOf())+"b" 
		console.log(user > 1001); // 先调用valueOf  ->  ;1000 > 1001
		
		// 日期对象到原始值的转换是 先尝试toString再调用valueOf
		console.log(new Date()+1); // 先调用toString  ;Fri Mar 06 2020 10:39:59 GMT+0800 (中国标准时间)1
		console.log(new Date()+"");//先调用toString   ;Fri Mar 06 2020 10:39:59 GMT+0800 (中国标准时间)
		
		// '3' + 4 + 5 // "345"
		// 3 + 4 + '5' // "75"
		
	}
	//test1();
	
	function test2(){
		let user = {
		  name: "John",
		  money: 1000,

		  // 对于 hint="string"
		  toString() {
			return `{name: "${this.name}"}`;
		  } 
 
		};

		alert(user); // 先调用toString -> ;{name: "John"}
		console.log(+user); //   -> ;NaN
		console.log(user + 500); // {name: "John"}500
		console.log(""+user); //{name: "John"} 
		console.log(user+""); // {name: "John"} 
		console.log(user > 1001); // false  "John">1001
	}
	test2();
 
	
</script>
</body>
</html>