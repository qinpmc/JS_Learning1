<!DOCTYPE html>
<html>
<head>
    <title>Title</title>
    <style type="text/css">
        *{
            margin:0;
            padding: 0;;
        }
        .box{
            width: 100px;
            height: 100px;
            background: lightseagreen;
        //从左到右运动 ，必须设置left和position
            left: 0;
            position: absolute;
        }
    </style>
    <script type="text/javascript" src="./utils.js"></script>
</head>
<body>
<div class="box"></div>
<script type="text/javascript">
    var box = document.getElementsByClassName("box")[0];
    var maxLeft  = utils.win("clientWidth") - box.offsetWidth;

    var step = 5; //每步走5px
    var timer = null;
/*    var timer = window.setInterval(function(){
        var curLeft = utils.css(box,"left");
        if(curLeft+step>=maxLeft){
            utils.css(box,"left",maxLeft);
            window.clearInterval(timer);
            return;
        }
        curLeft+=step;
        utils.css(box,"left",curLeft);
    },20)*/

    function move(){
        window.clearTimeout(timer);
        var curLeft = utils.css(box,"left");
        if(curLeft+step>=maxLeft){
            utils.css(box,"left",maxLeft);
            return;
        }
        curLeft+=step;
        utils.css(box,"left",curLeft);
        timer = window.setTimeout(move,20);
    }
    move();
</script>
</body>
</html>