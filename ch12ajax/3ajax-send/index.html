<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="register-body">
    <form action="/test" method="post" id="registration">
        <label>账号</label>
        <input type="text" class="ap account" id="name" name="account" autofocus>
        <span>请输入昵称</span>
        <div id="error" class="error"></div>
        <br>
        <label> 密码</label>
        <input type="password" class="ap pw" id="password" name="password">
        <div id="error-pw" class="error"></div>
        <br>
        <label>确认密码</label>
        <input type="password" class="ap pw" id="again_password" name="again_password">
        <br>
        <div id="error-pw-a" class="error"></div>
        <label>性别</label>
        <input type="radio"  name="sex" checked="checked" value="男">男
        <input type="radio" name="sex" value="女">女
        <br>
        <label></label>
        <input type="button" id="regist" value="提交注册">
    </form>
</div>

<script>
    function sendForm(form) {
        //var formData = new FormData(form);
        //formData.append('csrf', 'e69a18d7db1286040586e6da1950128c');
        var formData = new FormData();

        formData.append('username', '张三');
        formData.append('email', 'zhangsan@example.com');
        formData.append('birthDate', 1940);
        var xhr = new XMLHttpRequest();
        xhr.open('POST', form.action, true);
        xhr.onload = function() {
            // ...
        };
        xhr.send(formData);

        return false;
    }

    var form = document.querySelector('#registration');
    document.querySelector('#regist').onclick = function(){
        sendForm(form);
    }

</script>
</body>

</html>